{"filter":false,"title":"topic_bubbles.html","tooltip":"/Smithsonian_Data/topic_bubbles.html","undoManager":{"mark":60,"position":60,"stack":[[{"start":{"row":466,"column":21},"end":{"row":466,"column":22},"action":"remove","lines":["1"],"id":53}],[{"start":{"row":466,"column":21},"end":{"row":466,"column":22},"action":"insert","lines":["5"],"id":54},{"start":{"row":466,"column":22},"end":{"row":466,"column":23},"action":"insert","lines":["0"]}],[{"start":{"row":461,"column":23},"end":{"row":461,"column":24},"action":"remove","lines":["6"],"id":55}],[{"start":{"row":461,"column":23},"end":{"row":461,"column":24},"action":"insert","lines":["1"],"id":56},{"start":{"row":461,"column":24},"end":{"row":461,"column":25},"action":"insert","lines":["0"]}],[{"start":{"row":461,"column":24},"end":{"row":461,"column":25},"action":"remove","lines":["0"],"id":57}],[{"start":{"row":461,"column":24},"end":{"row":461,"column":25},"action":"insert","lines":["5"],"id":58}],[{"start":{"row":466,"column":21},"end":{"row":466,"column":22},"action":"remove","lines":["5"],"id":59}],[{"start":{"row":466,"column":21},"end":{"row":466,"column":22},"action":"insert","lines":["4"],"id":60}],[{"start":{"row":472,"column":37},"end":{"row":473,"column":0},"action":"insert","lines":["",""],"id":61},{"start":{"row":473,"column":0},"end":{"row":473,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":528,"column":46},"end":{"row":529,"column":0},"action":"insert","lines":["",""],"id":62},{"start":{"row":529,"column":0},"end":{"row":529,"column":12},"action":"insert","lines":["            "]},{"start":{"row":529,"column":12},"end":{"row":530,"column":0},"action":"insert","lines":["",""]},{"start":{"row":530,"column":0},"end":{"row":530,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":530,"column":12},"end":{"row":550,"column":13},"action":"insert","lines":["    var simulation = d3.forceSimulation()","        .force(\"forceX\", d3.forceX().strength(.1).x(width * .5))","        .force(\"forceY\", d3.forceY().strength(.1).y(height * .5))","        .force(\"center\", d3.forceCenter().x(width * .5).y(height * .5))","        .force(\"charge\", d3.forceManyBody().strength(-15));","","    d3.csv(\"data.csv\", types, function(error,graph){","      if (error) throw error;","","      // sort the nodes so that the bigger ones are at the back","      graph = graph.sort(function(a,b){ return b.size - a.size; });","","      //update the simulation based on the data","      simulation","          .nodes(graph)","          .force(\"collide\", d3.forceCollide().strength(.5).radius(function(d){ return d.radius + nodePadding; }).iterations(1))","          .on(\"tick\", function(d){","            node","                .attr(\"cx\", function(d){ return d.x; })","                .attr(\"cy\", function(d){ return d.y; })","          });"],"id":63}],[{"start":{"row":536,"column":0},"end":{"row":541,"column":0},"action":"remove","lines":["    d3.csv(\"data.csv\", types, function(error,graph){","      if (error) throw error;","","      // sort the nodes so that the bigger ones are at the back","      graph = graph.sort(function(a,b){ return b.size - a.size; });",""],"id":64}],[{"start":{"row":530,"column":0},"end":{"row":546,"column":0},"action":"remove","lines":["                var simulation = d3.forceSimulation()","        .force(\"forceX\", d3.forceX().strength(.1).x(width * .5))","        .force(\"forceY\", d3.forceY().strength(.1).y(height * .5))","        .force(\"center\", d3.forceCenter().x(width * .5).y(height * .5))","        .force(\"charge\", d3.forceManyBody().strength(-15));","","","      //update the simulation based on the data","      simulation","          .nodes(graph)","          .force(\"collide\", d3.forceCollide().strength(.5).radius(function(d){ return d.radius + nodePadding; }).iterations(1))","          .on(\"tick\", function(d){","            node","                .attr(\"cx\", function(d){ return d.x; })","                .attr(\"cy\", function(d){ return d.y; })","          });",""],"id":65}],[{"start":{"row":525,"column":35},"end":{"row":526,"column":0},"action":"insert","lines":["",""],"id":67},{"start":{"row":526,"column":0},"end":{"row":526,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":526,"column":12},"end":{"row":529,"column":37},"action":"insert","lines":["          .call(d3.drag()","              .on(\"start\", dragstarted)","              .on(\"drag\", dragged)","              .on(\"end\", dragended));"],"id":68}],[{"start":{"row":526,"column":20},"end":{"row":526,"column":22},"action":"remove","lines":["  "],"id":69},{"start":{"row":526,"column":18},"end":{"row":526,"column":20},"action":"remove","lines":["  "]},{"start":{"row":526,"column":16},"end":{"row":526,"column":18},"action":"remove","lines":["  "]},{"start":{"row":526,"column":14},"end":{"row":526,"column":16},"action":"remove","lines":["  "]}],[{"start":{"row":526,"column":0},"end":{"row":529,"column":37},"action":"remove","lines":["              .call(d3.drag()","              .on(\"start\", dragstarted)","              .on(\"drag\", dragged)","              .on(\"end\", dragended));"],"id":70}],[{"start":{"row":500,"column":32},"end":{"row":501,"column":0},"action":"insert","lines":["",""],"id":71},{"start":{"row":501,"column":0},"end":{"row":501,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":477,"column":0},"end":{"row":478,"column":0},"action":"insert","lines":["",""],"id":73},{"start":{"row":478,"column":0},"end":{"row":479,"column":0},"action":"insert","lines":["",""]},{"start":{"row":479,"column":0},"end":{"row":480,"column":0},"action":"insert","lines":["",""]},{"start":{"row":480,"column":0},"end":{"row":481,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":479,"column":0},"end":{"row":491,"column":37},"action":"insert","lines":["      var node = svg.append(\"g\")","          .attr(\"class\", \"node\")","        .selectAll(\"circle\")","        .data(graph)","        .enter().append(\"circle\")","          .attr(\"r\", function(d) { return d.radius; })","          .attr(\"fill\", function(d) { return color(d.continent); })","          .attr(\"cx\", function(d){ return d.x; })","          .attr(\"cy\", function(d){ return d.y; })","          .call(d3.drag()","              .on(\"start\", dragstarted)","              .on(\"drag\", dragged)","              .on(\"end\", dragended));"],"id":74}],[{"start":{"row":479,"column":14},"end":{"row":479,"column":15},"action":"insert","lines":["2"],"id":75}],[{"start":{"row":479,"column":2},"end":{"row":491,"column":37},"action":"remove","lines":["    var node2 = svg.append(\"g\")","          .attr(\"class\", \"node\")","        .selectAll(\"circle\")","        .data(graph)","        .enter().append(\"circle\")","          .attr(\"r\", function(d) { return d.radius; })","          .attr(\"fill\", function(d) { return color(d.continent); })","          .attr(\"cx\", function(d){ return d.x; })","          .attr(\"cy\", function(d){ return d.y; })","          .call(d3.drag()","              .on(\"start\", dragstarted)","              .on(\"drag\", dragged)","              .on(\"end\", dragended));"],"id":76},{"start":{"row":479,"column":0},"end":{"row":479,"column":2},"action":"remove","lines":["  "]},{"start":{"row":478,"column":0},"end":{"row":479,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":478,"column":0},"end":{"row":479,"column":0},"action":"remove","lines":["",""],"id":78},{"start":{"row":477,"column":0},"end":{"row":478,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":462,"column":55},"end":{"row":462,"column":56},"action":"insert","lines":["b"],"id":82}],[{"start":{"row":461,"column":24},"end":{"row":461,"column":25},"action":"remove","lines":["5"],"id":83}],[{"start":{"row":461,"column":24},"end":{"row":461,"column":25},"action":"insert","lines":["2"],"id":84}],[{"start":{"row":461,"column":24},"end":{"row":461,"column":25},"action":"remove","lines":["2"],"id":85}],[{"start":{"row":461,"column":24},"end":{"row":461,"column":25},"action":"insert","lines":["0"],"id":86}],[{"start":{"row":472,"column":37},"end":{"row":473,"column":0},"action":"insert","lines":["",""],"id":88},{"start":{"row":473,"column":0},"end":{"row":473,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":473,"column":12},"end":{"row":474,"column":0},"action":"insert","lines":["    .style(\"position\", \"absolute\")",""],"id":89}],[{"start":{"row":473,"column":14},"end":{"row":473,"column":16},"action":"remove","lines":["  "],"id":90},{"start":{"row":473,"column":12},"end":{"row":473,"column":14},"action":"remove","lines":["  "]}],[{"start":{"row":472,"column":36},"end":{"row":472,"column":37},"action":"remove","lines":[";"],"id":91}],[{"start":{"row":473,"column":32},"end":{"row":473,"column":40},"action":"remove","lines":["absolute"],"id":92},{"start":{"row":473,"column":32},"end":{"row":473,"column":33},"action":"insert","lines":["s"]},{"start":{"row":473,"column":33},"end":{"row":473,"column":34},"action":"insert","lines":["t"]},{"start":{"row":473,"column":34},"end":{"row":473,"column":35},"action":"insert","lines":["i"]}],[{"start":{"row":473,"column":35},"end":{"row":473,"column":36},"action":"insert","lines":["c"],"id":93},{"start":{"row":473,"column":36},"end":{"row":473,"column":37},"action":"insert","lines":["k"]},{"start":{"row":473,"column":37},"end":{"row":473,"column":38},"action":"insert","lines":["y"]}],[{"start":{"row":473,"column":20},"end":{"row":473,"column":28},"action":"remove","lines":["position"],"id":94},{"start":{"row":473,"column":20},"end":{"row":473,"column":21},"action":"insert","lines":["o"]},{"start":{"row":473,"column":21},"end":{"row":473,"column":22},"action":"insert","lines":["p"]},{"start":{"row":473,"column":22},"end":{"row":473,"column":23},"action":"insert","lines":["c"]},{"start":{"row":473,"column":23},"end":{"row":473,"column":24},"action":"insert","lines":["a"]},{"start":{"row":473,"column":24},"end":{"row":473,"column":25},"action":"insert","lines":["c"]},{"start":{"row":473,"column":25},"end":{"row":473,"column":26},"action":"insert","lines":["i"]},{"start":{"row":473,"column":26},"end":{"row":473,"column":27},"action":"insert","lines":["t"]},{"start":{"row":473,"column":27},"end":{"row":473,"column":28},"action":"insert","lines":["y"]}],[{"start":{"row":473,"column":32},"end":{"row":473,"column":38},"action":"remove","lines":["sticky"],"id":95},{"start":{"row":473,"column":32},"end":{"row":473,"column":33},"action":"insert","lines":["."]},{"start":{"row":473,"column":33},"end":{"row":473,"column":34},"action":"insert","lines":["8"]}],[{"start":{"row":473,"column":8},"end":{"row":473,"column":36},"action":"remove","lines":["    .style(\"opcacity\", \".8\")"],"id":96},{"start":{"row":473,"column":6},"end":{"row":473,"column":8},"action":"remove","lines":["  "]},{"start":{"row":473,"column":4},"end":{"row":473,"column":6},"action":"remove","lines":["  "]},{"start":{"row":473,"column":2},"end":{"row":473,"column":4},"action":"remove","lines":["  "]},{"start":{"row":473,"column":0},"end":{"row":473,"column":2},"action":"remove","lines":["  "]},{"start":{"row":472,"column":36},"end":{"row":473,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":534,"column":0},"end":{"row":551,"column":3},"action":"insert","lines":["  var Tooltip = d3.select(\"#div_template\")","    .append(\"div\")","    .style(\"opacity\", 0)","    .attr(\"class\", \"tooltip\")","    .style(\"background-color\", \"white\")","    .style(\"border\", \"solid\")","    .style(\"border-width\", \"2px\")","    .style(\"border-radius\", \"5px\")","    .style(\"padding\", \"5px\")","","  // Three function that change the tooltip when user hover / move / leave a cell","  var mouseover = function(d) {","    Tooltip","      .style(\"opacity\", 1)","    d3.select(this)","      .style(\"stroke\", \"black\")","      .style(\"opacity\", 1)","  }"],"id":97}],[{"start":{"row":7,"column":0},"end":{"row":9,"column":10},"action":"remove","lines":["\t\t<style type=\"text/css\">","\t\t\t/* No style rules here yet */\t\t","\t\t</style>"],"id":98},{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":4,"column":9},"end":{"row":4,"column":41},"action":"remove","lines":["D3: A simple packed Bubble Chart"],"id":99},{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":["E"]},{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"insert","lines":["p"]}],[{"start":{"row":4,"column":11},"end":{"row":4,"column":12},"action":"insert","lines":["h"],"id":100},{"start":{"row":4,"column":12},"end":{"row":4,"column":13},"action":"insert","lines":["e"]},{"start":{"row":4,"column":13},"end":{"row":4,"column":14},"action":"insert","lines":["m"]},{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"insert","lines":["e"]},{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"insert","lines":["r"]}],[{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"insert","lines":["a"],"id":101}],[{"start":{"row":4,"column":17},"end":{"row":4,"column":18},"action":"insert","lines":[" "],"id":102},{"start":{"row":4,"column":18},"end":{"row":4,"column":19},"action":"insert","lines":["a"]},{"start":{"row":4,"column":19},"end":{"row":4,"column":20},"action":"insert","lines":["s"]}],[{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"insert","lines":[" "],"id":103},{"start":{"row":4,"column":21},"end":{"row":4,"column":22},"action":"insert","lines":["P"]}],[{"start":{"row":4,"column":22},"end":{"row":4,"column":23},"action":"insert","lines":["e"],"id":104},{"start":{"row":4,"column":23},"end":{"row":4,"column":24},"action":"insert","lines":["r"]}],[{"start":{"row":4,"column":23},"end":{"row":4,"column":24},"action":"remove","lines":["r"],"id":105},{"start":{"row":4,"column":22},"end":{"row":4,"column":23},"action":"remove","lines":["e"]},{"start":{"row":4,"column":21},"end":{"row":4,"column":22},"action":"remove","lines":["P"]},{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"remove","lines":[" "]},{"start":{"row":4,"column":19},"end":{"row":4,"column":20},"action":"remove","lines":["s"]},{"start":{"row":4,"column":18},"end":{"row":4,"column":19},"action":"remove","lines":["a"]},{"start":{"row":4,"column":17},"end":{"row":4,"column":18},"action":"remove","lines":[" "]},{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"remove","lines":["a"]},{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"remove","lines":["r"]},{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"remove","lines":["e"]},{"start":{"row":4,"column":13},"end":{"row":4,"column":14},"action":"remove","lines":["m"]},{"start":{"row":4,"column":12},"end":{"row":4,"column":13},"action":"remove","lines":["e"]},{"start":{"row":4,"column":11},"end":{"row":4,"column":12},"action":"remove","lines":["h"]},{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"remove","lines":["p"]},{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"remove","lines":["E"]}],[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":["E"],"id":106}],[{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"insert","lines":["p"],"id":107},{"start":{"row":4,"column":11},"end":{"row":4,"column":12},"action":"insert","lines":["h"]},{"start":{"row":4,"column":12},"end":{"row":4,"column":13},"action":"insert","lines":["e"]},{"start":{"row":4,"column":13},"end":{"row":4,"column":14},"action":"insert","lines":["m"]},{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"insert","lines":["e"]},{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"insert","lines":["r"]}],[{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"insert","lines":[" "],"id":108}],[{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"remove","lines":[" "],"id":109}],[{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"insert","lines":["a"],"id":110}],[{"start":{"row":4,"column":17},"end":{"row":4,"column":18},"action":"insert","lines":[" "],"id":111},{"start":{"row":4,"column":18},"end":{"row":4,"column":19},"action":"insert","lines":["a"]},{"start":{"row":4,"column":19},"end":{"row":4,"column":20},"action":"insert","lines":["s"]}],[{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"insert","lines":[" "],"id":112},{"start":{"row":4,"column":21},"end":{"row":4,"column":22},"action":"insert","lines":["P"]},{"start":{"row":4,"column":22},"end":{"row":4,"column":23},"action":"insert","lines":["e"]},{"start":{"row":4,"column":23},"end":{"row":4,"column":24},"action":"insert","lines":["r"]},{"start":{"row":4,"column":24},"end":{"row":4,"column":25},"action":"insert","lines":["s"]},{"start":{"row":4,"column":25},"end":{"row":4,"column":26},"action":"insert","lines":["u"]},{"start":{"row":4,"column":26},"end":{"row":4,"column":27},"action":"insert","lines":["a"]}],[{"start":{"row":4,"column":27},"end":{"row":4,"column":28},"action":"insert","lines":["s"],"id":113},{"start":{"row":4,"column":28},"end":{"row":4,"column":29},"action":"insert","lines":["i"]},{"start":{"row":4,"column":29},"end":{"row":4,"column":30},"action":"insert","lines":["o"]},{"start":{"row":4,"column":30},"end":{"row":4,"column":31},"action":"insert","lines":["n"]}],[{"start":{"row":4,"column":31},"end":{"row":4,"column":32},"action":"insert","lines":[" "],"id":114}],[{"start":{"row":4,"column":31},"end":{"row":4,"column":32},"action":"remove","lines":[" "],"id":115}],[{"start":{"row":11,"column":7},"end":{"row":11,"column":8},"action":"insert","lines":["v"],"id":116},{"start":{"row":11,"column":8},"end":{"row":11,"column":9},"action":"insert","lines":["a"]},{"start":{"row":11,"column":9},"end":{"row":11,"column":10},"action":"insert","lines":["r"]}],[{"start":{"row":531,"column":0},"end":{"row":547,"column":26},"action":"remove","lines":["  var Tooltip = d3.select(\"#div_template\")","    .append(\"div\")","    .style(\"opacity\", 0)","    .attr(\"class\", \"tooltip\")","    .style(\"background-color\", \"white\")","    .style(\"border\", \"solid\")","    .style(\"border-width\", \"2px\")","    .style(\"border-radius\", \"5px\")","    .style(\"padding\", \"5px\")","","  // Three function that change the tooltip when user hover / move / leave a cell","  var mouseover = function(d) {","    Tooltip","      .style(\"opacity\", 1)","    d3.select(this)","      .style(\"stroke\", \"black\")","      .style(\"opacity\", 1)"],"id":117}],[{"start":{"row":532,"column":2},"end":{"row":532,"column":3},"action":"remove","lines":["}"],"id":118}],[{"start":{"row":463,"column":21},"end":{"row":463,"column":22},"action":"remove","lines":["4"],"id":119}],[{"start":{"row":463,"column":21},"end":{"row":463,"column":22},"action":"insert","lines":["3"],"id":120}]]},"ace":{"folds":[],"scrolltop":6346.5,"scrollleft":0,"selection":{"start":{"row":467,"column":36},"end":{"row":467,"column":36},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":422,"state":"js-start","mode":"ace/mode/html"}},"timestamp":1632854874109,"hash":"2585d884be59108effbf05a484142ae0c86a4421"}