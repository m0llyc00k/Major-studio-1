{"filter":false,"title":"radialnetwork_persuasion.html","tooltip":"/Smithsonian_Data/radialnetwork_persuasion.html","undoManager":{"mark":26,"position":26,"stack":[[{"start":{"row":0,"column":0},"end":{"row":98,"column":9},"action":"insert","lines":["<!DOCTYPE html>","<meta charset=\"utf-8\">","<style>","","circle {","  stroke: #fff;","  stroke-width: 2px;","}","","text {","  font: bold 12px sans-serif;","}","","</style>","<body>","<script src=\"//d3js.org/d3.v3.min.js\"></script>","<script>","","/* path {","\tfill: none","\tstroke: #999;","\tstroke-width: 1.5px;","}","*/","var width = 700,","    height = 500,","    radius = 150;","","var angle = d3.scale.ordinal()","    .rangePoints([0, 360], 1);","","var svg = d3.select(\"body\").append(\"svg\")","    .attr(\"width\", width)","    .attr(\"height\", height)","  .append(\"g\")","    .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");","","d3.json(\"network.json\", function(error, nodes) {","  if (error) throw error;","","  var nodeByName = d3.map(),","      links = [];","","  nodes.forEach(function(d) { nodeByName.set(d.name, d); });","","  nodes.forEach(function(source) {","    source.connections.forEach(function(target) {","      links.push({source: source, target: nodeByName.get(target), color: source.color});","    });","  });","","  angle.domain(nodes.map(function(d) { return d.name; }));","","  var link = svg.append(\"g\")","      .attr(\"class\", \"links\")","    .selectAll(\"path\")","      .data(links)","    .enter().append(\"path\")","      .attr(\"d\", curve)","\t  .attr(\"fill\", \"none\")","\t  .attr(\"stroke\", function(d) { return d.color; })","\t  .attr(\"stroke-width\", \"1.5px\");","","  var node = svg.append(\"g\")","      .attr(\"class\", \"nodes\")","    .selectAll(\"g\")","      .data(nodes)","    .enter().append(\"g\")","      .attr(\"transform\", function(d) { return \"rotate(\" + angle(d.name) + \")translate(\" + radius + \",0)\"; });","","  node.append(\"circle\")","      .attr(\"r\", 5)","\t  .attr(\"fill\", function(d) { return d.color; });","","  node.append(\"text\")","      .attr(\"dy\", \".35em\")","      .attr(\"x\", 6)","      .text(function(d) { return d.name; })","\t  .style(\"fill\", function(d) { return d.color; })","    .filter(function(d) { return (angle(d.name) + 90) % 360 > 180; }) // flipped","      .attr(\"x\", -6)","      .attr(\"transform\", \"rotate(-180)\")","      .style(\"text-anchor\", \"end\")","});","","function curve(link) {","  var a0 = angle(link.source.name) / 180 * Math.PI,","      a1 = angle(link.target.name) / 180 * Math.PI,","      x0 = Math.cos(a0) * radius, y0 = Math.sin(a0) * radius,","      x1 = Math.cos(a1) * radius, y1 = Math.sin(a1) * radius,","      dx = x0 - x1,","      dy = y0 - y1,","      l = Math.sqrt(dx * dx + dy * dy);","  return \"M\" + x0 + \",\" + y0","      + \"A\" + l * 2 + \",\" + l * 2 + \" 0 0 1 \"","      + x1 + \",\" + y1;","}","","</script>"],"id":1}],[{"start":{"row":37,"column":9},"end":{"row":37,"column":21},"action":"remove","lines":["network.json"],"id":2},{"start":{"row":37,"column":9},"end":{"row":37,"column":59},"action":"insert","lines":["/Smithsonian_Data/03_d3_smithsonian/data/data.json"]}],[{"start":{"row":37,"column":9},"end":{"row":37,"column":10},"action":"insert","lines":["."],"id":3}],[{"start":{"row":60,"column":19},"end":{"row":60,"column":50},"action":"remove","lines":["function(d) { return d.color; }"],"id":4},{"start":{"row":60,"column":19},"end":{"row":60,"column":20},"action":"insert","lines":["\""]}],[{"start":{"row":60,"column":20},"end":{"row":60,"column":21},"action":"insert","lines":["r"],"id":5},{"start":{"row":60,"column":21},"end":{"row":60,"column":22},"action":"insert","lines":["e"]},{"start":{"row":60,"column":22},"end":{"row":60,"column":23},"action":"insert","lines":["d"]},{"start":{"row":60,"column":23},"end":{"row":60,"column":24},"action":"insert","lines":["\""]}],[{"start":{"row":68,"column":66},"end":{"row":68,"column":70},"action":"remove","lines":["name"],"id":6},{"start":{"row":68,"column":66},"end":{"row":68,"column":67},"action":"insert","lines":["t"]},{"start":{"row":68,"column":67},"end":{"row":68,"column":68},"action":"insert","lines":["o"]},{"start":{"row":68,"column":68},"end":{"row":68,"column":69},"action":"insert","lines":["p"]},{"start":{"row":68,"column":69},"end":{"row":68,"column":70},"action":"insert","lines":["i"]},{"start":{"row":68,"column":70},"end":{"row":68,"column":71},"action":"insert","lines":["c"]}],[{"start":{"row":43,"column":47},"end":{"row":43,"column":51},"action":"remove","lines":["name"],"id":7},{"start":{"row":43,"column":47},"end":{"row":43,"column":48},"action":"insert","lines":["t"]},{"start":{"row":43,"column":48},"end":{"row":43,"column":49},"action":"insert","lines":["o"]},{"start":{"row":43,"column":49},"end":{"row":43,"column":50},"action":"insert","lines":["p"]},{"start":{"row":43,"column":50},"end":{"row":43,"column":51},"action":"insert","lines":["i"]},{"start":{"row":43,"column":51},"end":{"row":43,"column":52},"action":"insert","lines":["c"]}],[{"start":{"row":40,"column":15},"end":{"row":40,"column":16},"action":"remove","lines":["e"],"id":8},{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"remove","lines":["m"]},{"start":{"row":40,"column":13},"end":{"row":40,"column":14},"action":"remove","lines":["a"]},{"start":{"row":40,"column":12},"end":{"row":40,"column":13},"action":"remove","lines":["N"]}],[{"start":{"row":40,"column":12},"end":{"row":40,"column":13},"action":"insert","lines":["T"],"id":9},{"start":{"row":40,"column":13},"end":{"row":40,"column":14},"action":"insert","lines":["o"]},{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"insert","lines":["p"]},{"start":{"row":40,"column":15},"end":{"row":40,"column":16},"action":"insert","lines":["i"]},{"start":{"row":40,"column":16},"end":{"row":40,"column":17},"action":"insert","lines":["c"]}],[{"start":{"row":51,"column":48},"end":{"row":51,"column":52},"action":"remove","lines":["name"],"id":10},{"start":{"row":51,"column":48},"end":{"row":51,"column":49},"action":"insert","lines":["t"]},{"start":{"row":51,"column":49},"end":{"row":51,"column":50},"action":"insert","lines":["o"]},{"start":{"row":51,"column":50},"end":{"row":51,"column":51},"action":"insert","lines":["p"]},{"start":{"row":51,"column":51},"end":{"row":51,"column":52},"action":"insert","lines":["i"]},{"start":{"row":51,"column":52},"end":{"row":51,"column":53},"action":"insert","lines":["c"]}],[{"start":{"row":51,"column":48},"end":{"row":51,"column":53},"action":"remove","lines":["topic"],"id":11},{"start":{"row":51,"column":48},"end":{"row":51,"column":53},"action":"insert","lines":["topic"]}],[{"start":{"row":43,"column":39},"end":{"row":43,"column":40},"action":"remove","lines":["e"],"id":12},{"start":{"row":43,"column":38},"end":{"row":43,"column":39},"action":"remove","lines":["m"]},{"start":{"row":43,"column":37},"end":{"row":43,"column":38},"action":"remove","lines":["a"]},{"start":{"row":43,"column":36},"end":{"row":43,"column":37},"action":"remove","lines":["N"]}],[{"start":{"row":43,"column":36},"end":{"row":43,"column":37},"action":"insert","lines":["T"],"id":13},{"start":{"row":43,"column":37},"end":{"row":43,"column":38},"action":"insert","lines":["o"]},{"start":{"row":43,"column":38},"end":{"row":43,"column":39},"action":"insert","lines":["p"]},{"start":{"row":43,"column":39},"end":{"row":43,"column":40},"action":"insert","lines":["i"]},{"start":{"row":43,"column":40},"end":{"row":43,"column":41},"action":"insert","lines":["c"]}],[{"start":{"row":47,"column":51},"end":{"row":47,"column":52},"action":"remove","lines":["e"],"id":14},{"start":{"row":47,"column":50},"end":{"row":47,"column":51},"action":"remove","lines":["m"]},{"start":{"row":47,"column":49},"end":{"row":47,"column":50},"action":"remove","lines":["a"]},{"start":{"row":47,"column":48},"end":{"row":47,"column":49},"action":"remove","lines":["N"]}],[{"start":{"row":47,"column":48},"end":{"row":47,"column":49},"action":"insert","lines":["T"],"id":15},{"start":{"row":47,"column":49},"end":{"row":47,"column":50},"action":"insert","lines":["o"]},{"start":{"row":47,"column":50},"end":{"row":47,"column":51},"action":"insert","lines":["p"]},{"start":{"row":47,"column":51},"end":{"row":47,"column":52},"action":"insert","lines":["i"]},{"start":{"row":47,"column":52},"end":{"row":47,"column":53},"action":"insert","lines":["c"]},{"start":{"row":47,"column":53},"end":{"row":47,"column":54},"action":"insert","lines":["s"]}],[{"start":{"row":47,"column":53},"end":{"row":47,"column":54},"action":"remove","lines":["s"],"id":16}],[{"start":{"row":47,"column":73},"end":{"row":47,"column":86},"action":"remove","lines":[" source.color"],"id":17},{"start":{"row":47,"column":73},"end":{"row":47,"column":74},"action":"insert","lines":[" "]},{"start":{"row":47,"column":74},"end":{"row":47,"column":75},"action":"insert","lines":["r"]},{"start":{"row":47,"column":75},"end":{"row":47,"column":76},"action":"insert","lines":["e"]},{"start":{"row":47,"column":76},"end":{"row":47,"column":77},"action":"insert","lines":["d"]}],[{"start":{"row":47,"column":74},"end":{"row":47,"column":75},"action":"insert","lines":["\""],"id":18}],[{"start":{"row":47,"column":78},"end":{"row":47,"column":79},"action":"insert","lines":["\""],"id":19}],[{"start":{"row":72,"column":17},"end":{"row":72,"column":48},"action":"remove","lines":["function(d) { return d.color; }"],"id":20},{"start":{"row":72,"column":17},"end":{"row":72,"column":18},"action":"insert","lines":["\""]},{"start":{"row":72,"column":18},"end":{"row":72,"column":19},"action":"insert","lines":["r"]},{"start":{"row":72,"column":19},"end":{"row":72,"column":20},"action":"insert","lines":["e"]},{"start":{"row":72,"column":20},"end":{"row":72,"column":21},"action":"insert","lines":["d"]},{"start":{"row":72,"column":21},"end":{"row":72,"column":22},"action":"insert","lines":["\""]}],[{"start":{"row":77,"column":35},"end":{"row":77,"column":39},"action":"remove","lines":["name"],"id":21},{"start":{"row":77,"column":35},"end":{"row":77,"column":36},"action":"insert","lines":["t"]},{"start":{"row":77,"column":36},"end":{"row":77,"column":37},"action":"insert","lines":["o"]},{"start":{"row":77,"column":37},"end":{"row":77,"column":38},"action":"insert","lines":["p"]},{"start":{"row":77,"column":38},"end":{"row":77,"column":39},"action":"insert","lines":["i"]},{"start":{"row":77,"column":39},"end":{"row":77,"column":40},"action":"insert","lines":["c"]},{"start":{"row":77,"column":40},"end":{"row":77,"column":41},"action":"insert","lines":["d"]}],[{"start":{"row":77,"column":40},"end":{"row":77,"column":41},"action":"remove","lines":["d"],"id":22}],[{"start":{"row":78,"column":18},"end":{"row":78,"column":49},"action":"remove","lines":["function(d) { return d.color; }"],"id":23},{"start":{"row":78,"column":18},"end":{"row":78,"column":19},"action":"insert","lines":["\""]},{"start":{"row":78,"column":19},"end":{"row":78,"column":20},"action":"insert","lines":["r"]},{"start":{"row":78,"column":20},"end":{"row":78,"column":21},"action":"insert","lines":["e"]},{"start":{"row":78,"column":21},"end":{"row":78,"column":22},"action":"insert","lines":["d"]},{"start":{"row":78,"column":22},"end":{"row":78,"column":23},"action":"insert","lines":["\""]}],[{"start":{"row":79,"column":42},"end":{"row":79,"column":46},"action":"remove","lines":["name"],"id":24},{"start":{"row":79,"column":42},"end":{"row":79,"column":43},"action":"insert","lines":["t"]},{"start":{"row":79,"column":43},"end":{"row":79,"column":44},"action":"insert","lines":["o"]},{"start":{"row":79,"column":44},"end":{"row":79,"column":45},"action":"insert","lines":["p"]},{"start":{"row":79,"column":45},"end":{"row":79,"column":46},"action":"insert","lines":["i"]},{"start":{"row":79,"column":46},"end":{"row":79,"column":47},"action":"insert","lines":["c"]}],[{"start":{"row":86,"column":29},"end":{"row":86,"column":33},"action":"remove","lines":["name"],"id":25},{"start":{"row":86,"column":29},"end":{"row":86,"column":30},"action":"insert","lines":["t"]},{"start":{"row":86,"column":30},"end":{"row":86,"column":31},"action":"insert","lines":["o"]},{"start":{"row":86,"column":31},"end":{"row":86,"column":32},"action":"insert","lines":["p"]},{"start":{"row":86,"column":32},"end":{"row":86,"column":33},"action":"insert","lines":["i"]},{"start":{"row":86,"column":33},"end":{"row":86,"column":34},"action":"insert","lines":["c"]}],[{"start":{"row":87,"column":29},"end":{"row":87,"column":33},"action":"remove","lines":["name"],"id":26},{"start":{"row":87,"column":29},"end":{"row":87,"column":30},"action":"insert","lines":["t"]},{"start":{"row":87,"column":30},"end":{"row":87,"column":31},"action":"insert","lines":["o"]},{"start":{"row":87,"column":31},"end":{"row":87,"column":32},"action":"insert","lines":["p"]},{"start":{"row":87,"column":32},"end":{"row":87,"column":33},"action":"insert","lines":["i"]},{"start":{"row":87,"column":33},"end":{"row":87,"column":34},"action":"insert","lines":["c"]}],[{"start":{"row":37,"column":9},"end":{"row":37,"column":10},"action":"remove","lines":["."],"id":27}]]},"ace":{"folds":[],"scrolltop":442.5,"scrollleft":0,"selection":{"start":{"row":36,"column":0},"end":{"row":36,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":28,"state":"js-no_regex","mode":"ace/mode/html"}},"timestamp":1632519272195,"hash":"5930758a4e336a29c7adc64f9c9bcd3655a21a92"}